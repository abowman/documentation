<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Creo File Manager class description">
    <title>Creo: File Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800">
    <link rel="stylesheet" href="../scripts/highlight/styles/github-gist.css">
    <link rel="stylesheet" href="../stylesheets/styles.css">
  </head>
  <body>

    <!-- Fixed navbar -->
     <nav class="navbar navbar-default navbar-fixed-top">
       <div class="container">
         <div class="navbar-header">
           <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
             <span class="sr-only">Toggle navigation</span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
           </button>
           <a class="navbar-brand" href="http://creolabs.com"><img src="../images/logo.png" width="36" height="36" alt="Creolabs"></a>
         </div>
         <div id="navbar" class="navbar-collapse collapse">
           <ul class="nav navbar-nav navbar-right">
             <li><a href="../creo/what-is-creo.html">Creo</a></li>
             <li><a href="../classes/ActivityIndicator.html">Classes</a></li>
             <li><a href="../gravity/getting-started.html">Gravity</a></li>
             <li class="active"><a href="../tutorials/lets-cook-nav.html">Tutorials</a></li>
           </ul>
         </div><!--/.nav-collapse -->
       </div>
     </nav>

     <div class="container body-container">
       <div class="main-content">
       	<div class="row">
       		<div class="col-sm-3 border-right section-left">
       			<div saveheight="1" class="sidebar-nav">
       			<h4>TUTORIALS</h4>
				<ul>
					<li><a href="browser.html"><span>Browser</span></a></li>
					<li><a href="lets-cook-nav.html"><span>Lets Cook Nav</span></a></li>
					<li><a href="lets-cook-split.html"><span>Lets Cook Split</span></a></li>
					<li><a href="spotify.html"><span>Spotify</span></a></li>
					<li><a href="ebook.html"><span>eBook</span></a></li>
					<li><a href="heart-rate.html"><span>Heart Rate</span></a></li>
					<li><a href="photo-gallery.html"><span>Photo Gallery</span></a></li>
					<li><a href="file-manager.html" class="active"><span>File Manager</span></a></li>
					<li><a href="gesture-recognizer.html"><span>Gesture Recognizer</span></a></li>
					<li><a href="freehand-drawing.html"><span>Freehand Drawing</span></a></li>
					<li><a href="todo.html"><span>ToDo</span></a></li>
				</ul>

       			</div>
       		</div>

       		<div class="col-sm-9 border-left section-right">
         	<h1 class="section-header">File Manager</h1>
			<hr>
			
			<!-- INTRO -->			
			<p class="section-content">
			<span class="label label-tutorial">Concepts</span><br>
			<ul style="list-style: none;">
			<li>Managing files and directories are very important tasks in a mobile application. Creo offers fully featured <a href="../classes/FileManager.html">FileManager</a> and File classes and in this tutorial we'll use both in order to create a simple preview app for all the assets stored within the application itself. <a href="../classes/FileManager.html">FileManager</a> will be used both as a <a href="../classes/DataSet.html">DataSet</a> and programmatically via the code editor.
			</li>
			</ul>
			<br>
			</p>
			
			<!-- USED CLASSES -->		
			<p class="section-content">
			<span class="label label-tutorial">Classes</span><br>
			<ul style="list-style: none;">
				<li><a href="../classes/FileManager.html">FileManager</a></li>
				<li><a href="../classes/ImageView.html">ImageView</a></li>
				<li><a href="../classes/MoviePlayer.html">MoviePlayer</a></li>
				<li><a href="../classes/TableView.html">TableView</a></li>
				<li><a href="../classes/Alert.html">Alert</a></li>
			</ul>
			<br>
			</p>
						
			<!-- ASSETS TO DOWNLOAD -->
			<p class="section-content">
			<span class="label label-tutorial">Assets</span><br>
			<ul style="list-style: none;">
			<li><a href="../assets/filemananger_assets.zip">Various resources</a> like a jpeg image, a mp4 movie, a sqlite database, a text file and an aiff sound.
			</ul>
			<br>
			</p>
						
			<!-- TUTORIAL -->
			<p class="section-content">
			<span class="number-badge"><span>1</span></span> Create a new empty Creo project and expose Window1 as "Assets Library" in the main Navigation1:
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-2.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>2</span></span> Drops the content of the assets folder you just download into the Assets folder and reply NO to the object conversion question:
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-3.png" width="800" height="584" alt="file-manager">
			<br>
			Once imported your Assets folder should look like:
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-4.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>3</span></span> Now drop a TableView into Window1 and make its height to be half the height of the window. Set its Autoresizing mask as in the screenshot:
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-5.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>4</span></span> Drop a FileManager from the Others objects into Window1 and set its Directory to Assets:
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-6.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>5</span></span> Now set TableView1 properties the following:
			<ul>
			<li><strong>DataSet</strong> FileManager1</li>
			<li><strong>Cell Height</strong> 60</li>
			<li><strong>Cell Text</strong> name</li>
			<li><strong>Cell Detail Text</strong> typeIdentifier</li>
			<li><strong>Cell Image</strong> icon</li>
			<li><strong>Cell Identifier</strong> path</li>
			</ul>
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-7.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>6</span></span> If you press Run you'll see that the TaleView will be automatically filled by the content of the Assets folder. What we would like to achieve is to offer some kind of preview for the user selected file.<br>
			Drop an ImageView and a MoviePlayer into Window1 and set the Hidden property to both and the frame to be {15, 394, 348, 260}.
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-8.png" width="800" height="584" alt="file-manager">
			<br>
			<span class="number-badge"><span>7</span></span> 
			Let's start some coding now. Select TableView1, open the Code Editor and in the DidSelectCell event write the following code:
			<pre><code class="swift">
			var path = cell.identifier;
			var extension = FileManager1.extension(path);
			var name = FileManager1.name(path);
			
			ImageView1.hidden = true;
			MoviePlayer1.hidden = true;
			
			var s = "N/A";
			if (extension == "sqlite") {
				var f = File.open(path);
				s = f.readStringOfLength(13);
			}
			
			if (extension == "txt") {
				var f = File.open(path);
				s = f.readStringOfLength(50);
			}
			
			if (extension == "aiff") {
				var sound = Sound.open(path);
				s = "sound";
				sound.play();
			}
			
			if (extension == "mp4") {
				MoviePlayer1.hidden = false;
				s = "movie";
				MoviePlayer1.contentPath = path;
			}
			
			if ((extension == "jpg") || (extension == "png")) {
				ImageView1.hidden = false;
				var image = Image.open(path);
				s = "image";
				ImageView1.image = image;
			}
			
			var alert = Alert(name, s);
			alert.show();
			</code></pre>
			<br>
			This code preview the selected assets based on its extension. In case of an image it display it inside an ImageView. A movie is played inside the MoviePlayer. A sound is also played and a text file is displayed into an Alert. In case of a binary file (a sqlite database in this case), the first 13 bytes are read and displayed.<br><br>
			Please note that icons preview will differ between MacOS and a real iOS device.
			<br><br>
			<span class="number-badge"><span>8</span></span> That's all you need in order to have a fully functional Assets browser app. Press RUN and enjoy the app!
			<img class="section-image fullscreen-shadow"src="../images/tutorials/file-manager-9.png" width="800" height="584" alt="file-manager">
			<br>
			
			You can now send the app to <a href="../creo/creoplayer.html">CreoPlayer</a> or <a href="../creo/build-your-app.html">build it</a> and then submit to the App Store.
			</p>
						
			<!-- FINAL PROJECT -->
			<p class="section-content">
			<br><br>
			<span class="label label-tutorial">Project</span><br>
			<ul style="list-style: none;">
				<li><a href="../assets/filemanager.zip">FileManager.creoproject</a> (1.4MB)</li>
			</ul>
			<br>
			</p>
						
			<p class="section-footer"></p>
         	</div>
       	</div> <!-- /row -->
       </div> <!-- /main-content -->
     </div> <!-- /container -->

	<footer class="navbar-fixed-bottom">
      <div class="container footer">
      	<p>
      	<span class="footer-left">Documentation version 20180719</span>
        <span class="footer-right"><a href="http://community.creolabs.com">Community</a> | <a href="http://blog.creolabs.com">Blog</a> | &copy;2018 Creolabs Inc.</span>
        </p>
      </div>
    </footer>
	
	<!-- Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<!-- Highlights JS -->
    <script src="../scripts/highlight/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-6839205-1', 'auto');
    ga('send', 'pageview');
	</script>
	</body>
</html>
